<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualizar Matrículas</title>
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #001f3f;
            margin: 0;
            padding: 20px;
            color: #fff;
        }

        .form-container {
            display: flex;
            flex-direction: column;
            width: 600px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            color: #001f3f;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f2f2f2;
        }

        input {
            width: 100px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            background-color: #001f3f;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #00509e;
        }
    </style>
</head>
<body>
    <h1>Atualizar Matrículas</h1>
    <div class="form-container">
        <table>
            <tr>
                <th>Instituição</th>
                <th>Meta</th>
                <th>Matrículas</th>
            </tr>
            <tr>
                <td>Perfil</td>
                <td><input id="meta-perfil" type="number" value="1044"></td>
                <td><input id="matriculas-perfil" type="number" placeholder="0"></td>
            </tr>
            <tr>
                <td>Villa Criar</td>
                <td><input id="meta-criar" type="number" value="225"></td>
                <td><input id="matriculas-criar" type="number" placeholder="0"></td>
            </tr>
            <tr>
                <td>PLA</td>
                <td><input id="meta-pla" type="number" value="150"></td>
                <td><input id="matriculas-pla" type="number" placeholder="0"></td>
            </tr>
            <tr>
                <td>Tia Dori</td>
                <td><input id="meta-tia-dori" type="number" value="100"></td>
                <td><input id="matriculas-tia-dori" type="number" placeholder="0"></td>
            </tr>
        </table>
        <h2>Prêmios e Percentuais</h2>
        <table>
            <tr>
                <th>Prêmio</th>
                <th>Percentual para Liberação</th>
            </tr>
            <tr>
                <td><input id="premio-1" type="text" value="Kit churrasco (Carnes 12 pessoas) (10)"></td>
                <td><input id="percentual-1" type="number" value="30"></td>
            </tr>
            <tr>
                <td><input id="premio-2" type="text" value="Kit Natalino (Perdigão ou Sadia) (4)"></td>
                <td><input id="percentual-2" type="number" value="35"></td>
            </tr>
            <tr>
                <td><input id="premio-3" type="text" value="Mi Band 8 Global (6)"></td>
                <td><input id="percentual-3" type="number" value="40"></td>
            </tr>
            <tr>
                <td><input id="premio-4" type="text" value="Alexa (8)"></td>
                <td><input id="percentual-4" type="number" value="45"></td>
            </tr>
            <tr>
                <td><input id="premio-5" type="text" value="Máquina de café expresso (4)"></td>
                <td><input id="percentual-5" type="number" value="50"></td>
            </tr>
            <tr>
                <td><input id="premio-6" type="text" value="Kindle (2)"></td>
                <td><input id="percentual-6" type="number" value="55"></td>
            </tr>
            <tr>
                <td><input id="premio-7" type="text" value="FDS casal na Pousada Villas (2)"></td>
                <td><input id="percentual-7" type="number" value="60"></td>
            </tr>
            <tr>
                <td><input id="premio-8" type="text" value="Air Fryer (2)"></td>
                <td><input id="percentual-8" type="number" value="65"></td>
            </tr>
            <tr>
                <td><input id="premio-9" type="text" value="Televisão de 43"></td>
                <td><input id="percentual-9" type="number" value="70"></td>
            </tr>
            <tr>
                <td><input id="premio-10" type="text" value="JBL BoomBox"></td>
                <td><input id="percentual-10" type="number" value="75"></td>
            </tr>
            <tr>
                <td><input id="premio-11" type="text" value="Televisão de 55"></td>
                <td><input id="percentual-11" type="number" value="80"></td>
            </tr>
            <tr>
                <td><input id="premio-12" type="text" value="Notebook"></td>
                <td><input id="percentual-12" type="number" value="85"></td>
            </tr>
            <tr>
                <td><input id="premio-13" type="text" value="Televisão de 65"></td>
                <td><input id="percentual-13" type="number" value="90"></td>
            </tr>
            <tr>
                <td><input id="premio-14" type="text" value="iPhone 13"></td>
                <td><input id="percentual-14" type="number" value="95"></td>
            </tr>
            <tr>
                <td><input id="premio-15" type="text" value="Pix de R$ 5000,00"></td>
                <td><input id="percentual-15" type="number" value="100"></td>
            </tr>
        </table>
        <button onclick="enviarDados()">Enviar</button>
    </div>
    <script>
        function enviarDados() {
            const metaPerfil = parseInt(document.getElementById('meta-perfil').value) || 0;
            const metaCriar = parseInt(document.getElementById('meta-criar').value) || 0;
            const metaPla = parseInt(document.getElementById('meta-pla').value) || 0;
            const metaTiaDori = parseInt(document.getElementById('meta-tia-dori').value) || 0;

            const matriculasPerfil = parseInt(document.getElementById('matriculas-perfil').value) || 0;
            const matriculasCriar = parseInt(document.getElementById('matriculas-criar').value) || 0;
            const matriculasPla = parseInt(document.getElementById('matriculas-pla').value) || 0;
            const matriculasTiaDori = parseInt(document.getElementById('matriculas-tia-dori').value) || 0;

            const metaTotal = metaPerfil + metaCriar + metaPla + metaTiaDori;

            const premios = [];
            const percentuais = [];

            for (let i = 1; i <= 15; i++) {
                premios.push(document.getElementById(`premio-${i}`).value);
                percentuais.push(parseInt(document.getElementById(`percentual-${i}`).value) || 0);
            }

            window.opener.postMessage({
                type: 'update',
                perfil: matriculasPerfil,
                criar: matriculasCriar,
                pla: matriculasPla,
                tiaDori: matriculasTiaDori,
                metaPerfil: metaPerfil,
                metaCriar: metaCriar,
                metaPla: metaPla,
                metaTiaDori: metaTiaDori,
                metaTotal: metaTotal,
                premios: premios,
                percentuais: percentuais
            }, '*');
        }
    </script>
</body>
</html>
